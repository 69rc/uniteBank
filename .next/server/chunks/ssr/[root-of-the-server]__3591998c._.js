module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},99281,(a,b,c)=>{"use strict";b.exports=a.r(18622)},77104,(a,b,c)=>{"use strict";b.exports=a.r(99281).vendored["react-ssr"].ReactJsxRuntime},23806,(a,b,c)=>{"use strict";b.exports=a.r(99281).vendored["react-ssr"].React},425,a=>{"use strict";var b=a.i(77104),c=a.i(23806),d=a.i(97169);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{className:"relative w-full overflow-auto",children:(0,b.jsx)("table",{ref:e,className:(0,d.cn)("w-full caption-bottom text-sm",a),...c})}));e.displayName="Table";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("thead",{ref:e,className:(0,d.cn)("[&_tr]:border-b",a),...c}));f.displayName="TableHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tbody",{ref:e,className:(0,d.cn)("[&_tr:last-child]:border-0",a),...c}));g.displayName="TableBody",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tfoot",{ref:e,className:(0,d.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...c})).displayName="TableFooter";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tr",{ref:e,className:(0,d.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...c}));h.displayName="TableRow";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("th",{ref:e,className:(0,d.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...c}));i.displayName="TableHead";let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("td",{ref:e,className:(0,d.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...c}));j.displayName="TableCell",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("caption",{ref:e,className:(0,d.cn)("mt-4 text-sm text-muted-foreground",a),...c})).displayName="TableCaption";var k=a.i(63586),l=a.i(9697),m=a.i(16013),n=a.i(82293);let o=(0,n.default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),p=(0,n.default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var q=a.i(5978);function r(){let{toast:a}=(0,m.useToast)(),[d,n]=(0,c.useState)([]),[r,s]=(0,c.useState)(!0),[t,u]=(0,c.useState)(null),v=async()=>{try{let a=await fetch("/api/admin/transfers");if(a.ok){let b=await a.json();n(b)}else throw Error("Failed to fetch transfers")}catch(b){console.error(b),a({title:"Error",description:"Could not load pending transfers",variant:"destructive"})}finally{s(!1)}};(0,c.useEffect)(()=>{v()},[]);let w=async(b,c)=>{u(b);try{let d=await fetch(`/api/admin/transfers/${b}/${c}`,{method:"POST"});if(!d.ok){let a=await d.json();throw Error(a.message||`Failed to ${c} transfer`)}a({title:"Success",description:`Transfer ${c}d successfully`}),v()}catch(b){a({title:"Action Failed",description:b.message,variant:"destructive"})}finally{u(null)}};return r?(0,b.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,b.jsx)(q.Loader2,{className:"h-8 w-8 animate-spin"})}):(0,b.jsx)("div",{className:"container mx-auto py-10",children:(0,b.jsxs)(k.Card,{children:[(0,b.jsxs)(k.CardHeader,{children:[(0,b.jsx)(k.CardTitle,{children:"Pending Transfer Requests"}),(0,b.jsx)(k.CardDescription,{children:"Review and approve user transfer requests."})]}),(0,b.jsx)(k.CardContent,{children:0===d.length?(0,b.jsx)("div",{className:"text-center py-10 text-muted-foreground",children:"No pending transfers found."}):(0,b.jsxs)(e,{children:[(0,b.jsx)(f,{children:(0,b.jsxs)(h,{children:[(0,b.jsx)(i,{children:"Date"}),(0,b.jsx)(i,{children:"Sender"}),(0,b.jsx)(i,{children:"Recipient"}),(0,b.jsx)(i,{children:"Amount"}),(0,b.jsx)(i,{children:"Description"}),(0,b.jsx)(i,{className:"text-right",children:"Actions"})]})}),(0,b.jsx)(g,{children:d.map(a=>(0,b.jsxs)(h,{children:[(0,b.jsxs)(j,{children:[new Date(a.createdAt).toLocaleDateString(),(0,b.jsx)("br",{}),(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:new Date(a.createdAt).toLocaleTimeString()})]}),(0,b.jsxs)(j,{children:[(0,b.jsx)("div",{className:"font-medium",children:a.senderName}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:a.senderAccountNumber})]}),(0,b.jsxs)(j,{children:[(0,b.jsx)("div",{className:"font-medium",children:a.recipientName}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:a.recipientAccountNumber})]}),(0,b.jsxs)(j,{className:"font-bold",children:["$",parseFloat(a.amount).toFixed(2)]}),(0,b.jsx)(j,{children:a.description||"-"}),(0,b.jsxs)(j,{className:"text-right space-x-2",children:[(0,b.jsxs)(l.Button,{variant:"outline",size:"sm",className:"text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>w(a.id,"reject"),disabled:t===a.id,children:[t===a.id?(0,b.jsx)(q.Loader2,{className:"h-4 w-4 animate-spin"}):(0,b.jsx)(p,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"sr-only",children:"Reject"})]}),(0,b.jsxs)(l.Button,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>w(a.id,"approve"),disabled:t===a.id,children:[t===a.id?(0,b.jsx)(q.Loader2,{className:"h-4 w-4 animate-spin"}):(0,b.jsx)(o,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"sr-only",children:"Approve"})]})]})]},a.id))})]})})]})})}a.s(["default",()=>r],425)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__3591998c._.js.map