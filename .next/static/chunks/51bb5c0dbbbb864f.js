(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18330,e=>{"use strict";var a=e.i(17276),s=e.i(13851),t=e.i(15661);let r=s.forwardRef(({className:e,...s},r)=>(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:r,className:(0,t.cn)("w-full caption-bottom text-sm",e),...s})}));r.displayName="Table";let l=s.forwardRef(({className:e,...s},r)=>(0,a.jsx)("thead",{ref:r,className:(0,t.cn)("[&_tr]:border-b",e),...s}));l.displayName="TableHeader";let d=s.forwardRef(({className:e,...s},r)=>(0,a.jsx)("tbody",{ref:r,className:(0,t.cn)("[&_tr:last-child]:border-0",e),...s}));d.displayName="TableBody",s.forwardRef(({className:e,...s},r)=>(0,a.jsx)("tfoot",{ref:r,className:(0,t.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...s})).displayName="TableFooter";let i=s.forwardRef(({className:e,...s},r)=>(0,a.jsx)("tr",{ref:r,className:(0,t.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...s}));i.displayName="TableRow";let n=s.forwardRef(({className:e,...s},r)=>(0,a.jsx)("th",{ref:r,className:(0,t.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...s}));n.displayName="TableHead";let c=s.forwardRef(({className:e,...s},r)=>(0,a.jsx)("td",{ref:r,className:(0,t.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...s}));c.displayName="TableCell",s.forwardRef(({className:e,...s},r)=>(0,a.jsx)("caption",{ref:r,className:(0,t.cn)("mt-4 text-sm text-muted-foreground",e),...s})).displayName="TableCaption",e.s(["Table",()=>r,"TableBody",()=>d,"TableCell",()=>c,"TableHead",()=>n,"TableHeader",()=>l,"TableRow",()=>i])},79570,e=>{"use strict";let a=(0,e.i(75331).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>a],79570)},4915,e=>{"use strict";let a=(0,e.i(75331).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>a],4915)},5549,e=>{"use strict";var a=e.i(17276),s=e.i(13851),t=e.i(18330),r=e.i(87277),l=e.i(92571),d=e.i(15755),i=e.i(79570),n=e.i(4915),c=e.i(97257);function o(){let{toast:e}=(0,d.useToast)(),[o,m]=(0,s.useState)([]),[x,h]=(0,s.useState)(!0),[f,u]=(0,s.useState)(null),b=async()=>{try{let e=await fetch("/api/admin/transfers");if(e.ok){let a=await e.json();m(a)}else throw Error("Failed to fetch transfers")}catch(a){console.error(a),e({title:"Error",description:"Could not load pending transfers",variant:"destructive"})}finally{h(!1)}};(0,s.useEffect)(()=>{b()},[]);let j=async(a,s)=>{u(a);try{let t=await fetch(`/api/admin/transfers/${a}/${s}`,{method:"POST"});if(!t.ok){let e=await t.json();throw Error(e.message||`Failed to ${s} transfer`)}e({title:"Success",description:`Transfer ${s}d successfully`}),b()}catch(a){e({title:"Action Failed",description:a.message,variant:"destructive"})}finally{u(null)}};return x?(0,a.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,a.jsx)(c.Loader2,{className:"h-8 w-8 animate-spin"})}):(0,a.jsx)("div",{className:"container mx-auto py-10",children:(0,a.jsxs)(r.Card,{children:[(0,a.jsxs)(r.CardHeader,{children:[(0,a.jsx)(r.CardTitle,{children:"Pending Transfer Requests"}),(0,a.jsx)(r.CardDescription,{children:"Review and approve user transfer requests."})]}),(0,a.jsx)(r.CardContent,{children:0===o.length?(0,a.jsx)("div",{className:"text-center py-10 text-muted-foreground",children:"No pending transfers found."}):(0,a.jsxs)(t.Table,{children:[(0,a.jsx)(t.TableHeader,{children:(0,a.jsxs)(t.TableRow,{children:[(0,a.jsx)(t.TableHead,{children:"Date"}),(0,a.jsx)(t.TableHead,{children:"Sender"}),(0,a.jsx)(t.TableHead,{children:"Recipient"}),(0,a.jsx)(t.TableHead,{children:"Amount"}),(0,a.jsx)(t.TableHead,{children:"Description"}),(0,a.jsx)(t.TableHead,{className:"text-right",children:"Actions"})]})}),(0,a.jsx)(t.TableBody,{children:o.map(e=>(0,a.jsxs)(t.TableRow,{children:[(0,a.jsxs)(t.TableCell,{children:[new Date(e.createdAt).toLocaleDateString(),(0,a.jsx)("br",{}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:new Date(e.createdAt).toLocaleTimeString()})]}),(0,a.jsxs)(t.TableCell,{children:[(0,a.jsx)("div",{className:"font-medium",children:e.senderName}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:e.senderAccountNumber})]}),(0,a.jsxs)(t.TableCell,{children:[(0,a.jsx)("div",{className:"font-medium",children:e.recipientName}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:e.recipientAccountNumber})]}),(0,a.jsxs)(t.TableCell,{className:"font-bold",children:["$",parseFloat(e.amount).toFixed(2)]}),(0,a.jsx)(t.TableCell,{children:e.description||"-"}),(0,a.jsxs)(t.TableCell,{className:"text-right space-x-2",children:[(0,a.jsxs)(l.Button,{variant:"outline",size:"sm",className:"text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>j(e.id,"reject"),disabled:f===e.id,children:[f===e.id?(0,a.jsx)(c.Loader2,{className:"h-4 w-4 animate-spin"}):(0,a.jsx)(n.X,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Reject"})]}),(0,a.jsxs)(l.Button,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>j(e.id,"approve"),disabled:f===e.id,children:[f===e.id?(0,a.jsx)(c.Loader2,{className:"h-4 w-4 animate-spin"}):(0,a.jsx)(i.Check,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Approve"})]})]})]},e.id))})]})})]})})}e.s(["default",()=>o])}]);